top 监视服务器的负载

第一行显示 与 uptime 命令相似。 'l' 切换uptime的显示。
当前时间 | 系统已运行的时间 | 当前登录用户的数量 | 相应最近5、10和15分钟内的平均负载。

第二行的是任务或者进程概括。进程可以处于不同的状态。 't'切换显示
进程总数 ｜ 正在运行、睡眠、停止、僵尸进程的数量（僵尸是一种进程的状态）

第三行显示的是CPU状态。't'切换显示
这里显示了不同模式下的所占CPU时间的百分比。这些不同的CPU时间表示:
us, user： 运行(未调整优先级的) 用户进程的CPU时间
sy，system: 运行内核进程的CPU时间
ni，niced：运行已调整优先级的用户进程的CPU时间
wa，IO wait: 用于等待IO完成的CPU时间
hi：处理硬件中断的CPU时间
si: 处理软件中断的CPU时间
st：这个虚拟机被hypervisor偷去的CPU时间（译注：如果当前处于一个hypervisor下的vm，实际上hypervisor也是要消耗一部分CPU处理时间的）。

第四行显示物理内存使用率。'm'切换显示
第五行显示虚拟内存使用率(交换空间)。
全部可用内存 ｜ 已使用内存 ｜ 空闲内存 ｜ 缓冲内存。

列表信息
PID 进程ID，进程的唯一标识符
USER 进程所有者的实际用户名。
PR 进程的调度优先级。这个字段的一些值是’rt’。这意味这这些进程运行在实时态。
NI 进程的nice值（优先级）。越小的值意味着越高的优先级。
VIRT 进程使用的虚拟内存。 VIRT=SWAP+RES 
RES 驻留内存大小。驻留内存是任务使用的非交换物理内存大小。RES=CODE+DATA
CODE 可执行代码占用的物理内存大小，单位kb
DATA 可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb
SHR SHR是进程使用的共享内存。单位kb
S 这个是进程的状态。它有以下不同的值:
    D – 不可中断的睡眠态。
    R – 运行态
    S – 睡眠态
    T – 被跟踪或已停止
    Z – 僵尸态
%CPU 自从上一次更新时到现在任务所使用的CPU时间百分比。
%MEM 进程使用的可用物理内存百分比。
TIME+ 任务启动后到现在所使用的全部CPU时间，进程使用的CPU时间总计，精确到百分之一秒。
COMMAND 运行进程所使用的命令。

----
一些命令
c   切换是否显示进程启动时的完整路径和程序名。
i   切换显示空闲任务。
---
top -p <pid> -H 显示一个进程中各个线程CPU的占用率
按CPU排序，找到对应的PID即是CPU占用最多的线程，在Java中可以使用jstack将该线程的堆栈打印出来，使用这个线程ID查找对应的线程堆栈（要先将线程ID转换成16进制）。


